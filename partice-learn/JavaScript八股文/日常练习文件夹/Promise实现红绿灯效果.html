<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Promise实现红绿灯效果</title>
</head>
<body>

</body>
</html>
<script>
  // 红灯3秒亮一次，黄灯2秒亮一次，绿灯1秒亮一次；如何让三个灯不断交替重复亮灯
  function red() {
    console.log('red');
  }
  function green() {
    console.log('green');
  }
  function yellow() {
    console.log('yellow');
  }
  function light(cb, time) {
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        cb();
        resolve();
      }, time);
    });
  }
  (function run() {
     light(red, 3000).then(() => {
       return light(yellow, 2000);
       }).then(() => {
         return light(green, 1000);
       }).then(() => {
         run();
       });
  }());
</script>
